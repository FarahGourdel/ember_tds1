{{page-title "Add"}}

<div id="form"></div>
<div class="field">
  <div class="ui input">
    <Input @value={{@model.product.name}}/>
  </div>
</div>

<div class="field">
  <div class="ui input">
    <Input @value={{@model.product.price}} type="number"/>
  </div>
</div>

<div class="field">
  <UiDropdown class="selection multiple" @selected={{@model.product.packs}} @onChange={{fn (mut @model.product.pack)}}>
    <div class="default text">Packs</div>
    <i class="dropdown icon"></i>
    <div class="menu">
      {{#each @model.products as |product|}}
        <div data-value="{{map-value mapper product}}" class="item">
          {{product.name}}
        </div>
      {{/each}}
    </div>
  </UiDropdown>
</div>

<div class="field">
  <UiDropdown class="selection" @selected={{@model.product.section}} @onChange={{fn (mut @model.product.section)}}>
    <div class="default text">Section</div>
    <i class="dropdown icon"></i>
    <div class="menu">
      {{#each @model.sections as |section|}}
        <div data-value="{{map-value mapper section}}" class="item">
          {{section.name}}
        </div>
      {{/each}}
    </div>
  </UiDropdown>
</div>

<button class="ui positive button" {{action "save" @model.product}}>Valider</button>
<LinkTo class="ui button" @route="products">
  <i class="ui remove icon"></i>
  Annuler
</LinkTo>

{{outlet}}